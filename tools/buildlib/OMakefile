OBJECTS[] =
  buildlib.o

boot ()

LDFLAGS[] +=
  -L$(rootdir)/library/compiler
  -Wl,-rpath,$(absname $(rootdir)/library/compiler)

CYCFLAGS[] +=
  -I$(rootdir)/library/compiler

buildlib: $(OBJECTS) $(rootdir)/library/compiler/libcyclone.so $(LIBCYC)
  cc -m32 $(OBJECTS) -o $@ -lcyclone -lcyc $(LDFLAGS)

buildlib.boot: $(bootname $(OBJECTS)) $(rootdir)/library/compiler/libcyclone.boot.so $(LIBCYC_BOOT)
  cc -m32 $(bootname $(OBJECTS)) -o $@ -lcyclone.boot -lcyc.boot $(LDFLAGS)

.DEFAULT: buildlib
