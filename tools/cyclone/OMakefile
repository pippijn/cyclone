OBJECTS[] =
  cyclone.o
  interproc.o

boot ()

LDFLAGS[] +=
  -L$(rootdir)/compiler
  -Wl,-rpath,$(absname $(rootdir)/compiler)

CYCFLAGS[] +=
  -I$(rootdir)/compiler

cyclone: $(OBJECTS) $(rootdir)/compiler/libcyclone.so $(rootdir)/stdlib/libcyc.so
  cc -m32 $(OBJECTS) -o $@ $(LDFLAGS) -lcyc -lcyclone

cyclone.boot: $(bootname $(OBJECTS)) $(rootdir)/compiler/libcyclone.boot.so $(rootdir)/stdlib/libcyc.boot.so
  cc -m32 $(bootname $(OBJECTS)) -o $@ $(LDFLAGS) -lcyc.boot -lcyclone.boot

.DEFAULT: cyclone
